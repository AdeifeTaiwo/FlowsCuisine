                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  package com.example.foodieme.util

import android.text.format.DateUtils
import android.util.Log
import android.view.View
import android.widget.ImageView
import android.widget.LinearLayout
import android.widget.TextView

import androidx.databinding.BindingAdapter
import androidx.lifecycle.LiveData
import androidx.lifecycle.Transformations

import com.example.foodieme.GlideApp

import com.example.foodieme.R
import com.example.foodieme.domain.CheckoutMenu

import com.google.android.material.card.MaterialCardView




@BindingAdapter("imageUrl")
fun setImageUrl(imageView: ImageView, url: String) {
    GlideApp.with(imageView.context).load(url).into(imageView)
}

@BindingAdapter("setPrice")
fun TextView.setPrice(double: Double?){
    text = context.resources.getString(R.string.price, double.toString())

}

@BindingAdapter("elapsedTime")
fun TextView.setElapsedTime(value: Long) {
    val seconds = value / 1000

    text = if (seconds < 60) seconds.toString() else DateUtils.formatElapsedTime(seconds)
    isClickable = seconds <= 0L

}



@BindingAdapter("delivered_or_arrived")
fun TextView.setDeliveredOrArrived(value: Long){
    val seconds = value / 1000
    if(seconds  <= 0L){
        text = "Arrived"

    }
    else
        text = "Delivered"
}

@BindingAdapter("hide_linear_layout")
fun LinearLayout.hideLinearLayout(value:Long){
    val seconds = value / 1000
    if(seconds  <= 0L){
        visibility = View.GONE

    }
    else
        visibility = View.VISIBLE
}


@BindingAdapter ("hide_all_view")
fun MaterialCardView.hideAllLayout(checkoutMenu: LiveData<List<CheckoutMenu>>) {
   val empty = Transformations.map(checkoutMenu){
       it.isEmpty()
    }





}




